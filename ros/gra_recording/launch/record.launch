<?xml version="1.0"?>

<launch>
  <arg name="output_name" default="compressed_sensor_data"/>
  
  <!-- Hacky solution for forwarding the duration argument -->
  <arg name="duration" default=""/>
  <arg name="duration_evaluated" value=""/>
  <arg name="duration_evaluated" value="--duration $(arg duration)" if="$(eval duration != '')"/>


  <node name="sensor_recorder" pkg="rosbag" type="record" 
  args=
  "-o /root/gra/recordings/$(arg output_name)
    $(arg duration_evaluated)
    /scan
    /camera/aligned_depth_to_color/camera_info
    /camera/color/image_raw/compressed
    /camera/aligned_depth_to_color/image_raw/compressedDepth
    /tf_static
    /tf"
  />
</launch>
